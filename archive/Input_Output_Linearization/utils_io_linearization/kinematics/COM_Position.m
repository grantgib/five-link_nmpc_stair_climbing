function [posCOM] = COM_Position(q)
import casadi.*
[xbar,zbar,rotY,q1R,q2R,q1L,q2L] = deal(q(1),q(2),q(3),q(4),q(5),q(6),q(7));

posCOM = [(1/32).*(12.*(xbar+(6/25).*sin(rotY))+(34/5).*(xbar+(11/100).*(cos( ...
  rotY).*sin(q1L)+cos(q1L).*sin(rotY)))+(34/5).*(xbar+(11/100).*( ...
  cos(rotY).*sin(q1R)+cos(q1R).*sin(rotY)))+(16/5).*(xbar+(2/5).*(1+ ...
  (-1).*cos(q2L)).*(cos(rotY).*sin(q1L)+cos(q1L).*sin(rotY))+( ...
  -2/5).*sin(q2L).*(cos(q1L).*cos(rotY)+(-1).*sin(q1L).*sin(rotY)) ...
  +(16/25).*(cos(q2L).*(cos(rotY).*sin(q1L)+cos(q1L).*sin(rotY))+ ...
  sin(q2L).*(cos(q1L).*cos(rotY)+(-1).*sin(q1L).*sin(rotY))))+( ...
  16/5).*(xbar+(2/5).*(1+(-1).*cos(q2R)).*(cos(rotY).*sin(q1R)+cos( ...
  q1R).*sin(rotY))+(-2/5).*sin(q2R).*(cos(q1R).*cos(rotY)+(-1).* ...
  sin(q1R).*sin(rotY))+(16/25).*(cos(q2R).*(cos(rotY).*sin(q1R)+ ...
  cos(q1R).*sin(rotY))+sin(q2R).*(cos(q1R).*cos(rotY)+(-1).*sin( ...
  q1R).*sin(rotY))))),(1/32).*(12.*(zbar+(6/25).*cos(rotY))+(34/5).* ...
  (zbar+(11/100).*(cos(q1L).*cos(rotY)+(-1).*sin(q1L).*sin(rotY)))+( ...
  34/5).*(zbar+(11/100).*(cos(q1R).*cos(rotY)+(-1).*sin(q1R).*sin( ...
  rotY)))+(16/5).*(zbar+(-2/5).*sin(q2L).*((-1).*cos(rotY).*sin(q1L) ...
  +(-1).*cos(q1L).*sin(rotY))+(2/5).*(1+(-1).*cos(q2L)).*(cos(q1L) ...
  .*cos(rotY)+(-1).*sin(q1L).*sin(rotY))+(16/25).*(sin(q2L).*((-1) ...
  .*cos(rotY).*sin(q1L)+(-1).*cos(q1L).*sin(rotY))+cos(q2L).*(cos( ...
  q1L).*cos(rotY)+(-1).*sin(q1L).*sin(rotY))))+(16/5).*(zbar+(-2/5) ...
  .*sin(q2R).*((-1).*cos(rotY).*sin(q1R)+(-1).*cos(q1R).*sin(rotY) ...
  )+(2/5).*(1+(-1).*cos(q2R)).*(cos(q1R).*cos(rotY)+(-1).*sin(q1R) ...
  .*sin(rotY))+(16/25).*(sin(q2R).*((-1).*cos(rotY).*sin(q1R)+(-1) ...
  .*cos(q1R).*sin(rotY))+cos(q2R).*(cos(q1R).*cos(rotY)+(-1).*sin( ...
  q1R).*sin(rotY)))))];

end

